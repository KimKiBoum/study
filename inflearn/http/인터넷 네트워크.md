

## 인터넷 통신

------

### 인터넷을 통한 통신

![인터넷](https://github.com/KimKiBoum/study/blob/main/inflearn/http/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%9D%B8%ED%84%B0%EB%84%B7.png)

인터넷 망을 통해서 통신을 할 경우 수많은 중간 노드를 거치게 됨

### IP 주소 부여

![IP 주소 부여](/Users/kimkiboum/study/inflearn/http/이미지/IP 주소 부여.png)

IP 주소 부여를 통하여 인터넷 망을 통한 통신이 가능



## IP

------

#### 인터넷 프로토콜 역할

- 지정한 IP 주소(IP Address)에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터 전달

> IP 패킷 정보 : 출발지 IP, 목적지 IP 등의 정보가 있다.
>
> ![IP 패킷 정보](/Users/kimkiboum/study/inflearn/http/이미지/IP 패킷 정보.png)

**패킷 전달 과정**

1. 출발지와 목적지 IP, 메세지를 포함한 패킷을 보냄
2. 목적지 IP(200.200.200.2)로 전달 될 수 있는 경로를 찾아 노드끼리 패킷을 전달
3. 목적지로 해당 패킷 전달 완료 

![클라이언트 패킷 전달](/Users/kimkiboum/study/inflearn/http/이미지/클라이언트 패킷 전달.png)

목적지 IP(200.200.200.2)에서 출발지 IP(100.100.100.1)로 패킷을 보낼 경우 경로가 변경될 수 있다.

![서버 패킷 전달](/Users/kimkiboum/study/inflearn/http/이미지/서버 패킷 전달.png)

**IP 프로토콜의 한계**

- 비연결성

  패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷이 전송된다.

  ![IP 프로토콜의 한계-비연결성](/Users/kimkiboum/study/inflearn/http/이미지/IP 프로토콜의 한계-비연결성.png)

- 비신뢰성

  - 중간에 패킷이 사라질 가능성이 있다.

    ![IP 프로토콜의 한계-비신뢰성1](/Users/kimkiboum/study/inflearn/http/이미지/IP 프로토콜의 한계-비신뢰성1.png)

  - 패킷이 순서대로 오지 않을 가능성이 있다.

    ![IP 프로토콜의 한계-비신뢰성2](/Users/kimkiboum/study/inflearn/http/이미지/IP 프로토콜의 한계-비신뢰성2.png)

- 프로그램 구분

  같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 여러 개일 수 있다.

## TCP / UDP

------

**TCP : 전송제어 프로토콜**(Transmission Control Protocol)

**UDP : 사용자 데이터그램 프로토콜**(User Datagram Protocol)

#### 인터넷 프로토콜 스택의 4계층

![인터넷 프로토콜의 4계층](/Users/kimkiboum/study/inflearn/http/이미지/인터넷 프로토콜의 4계층.png)

#### TCP 패킷

> **TCP / IP 패킷 정보** : 출발지 / 목적지 PORT, 전송제어 등의 추가로 **IP의 문제점을 보완**한다.
>
> ![TCP : IP 패킷 정보](/Users/kimkiboum/study/inflearn/http/이미지/TCP : IP 패킷 정보.png)

#### TCP 특징 

- 연결지향 - TCP 3 way handshake (가상 연결)

  ![3 way handshake](/Users/kimkiboum/study/inflearn/http/이미지/3 way handshake.png)

  > 3 way handshake를 통해 서로 연결이 되었는지 확인한다. 단, 논리적인 연결이기 때문에 어떤 노드를 거치는지, 해당 노드들의 연결 상태인지는 알 수 없다.

- 데이터 전달 보증

  ![데이터 전달 보증](/Users/kimkiboum/study/inflearn/http/이미지/데이터 전달 보증.png)

  > 정상적으로 데이터 전송이 완료 되었을 경우 받았다는 신호를 받아 응답이 오지 않을 경우 문제가 생겼다는 걸 알 수 있다.

- 순서 보장

  ![순서 보장](/Users/kimkiboum/study/inflearn/http/이미지/순서 보장.png)

  > 순서가 잘못되었을 경우 잘못된 부분부터 다시 전송을 받아 순서가 보장된다.

  **-> TCP = 신뢰할 수 있는 프로토콜**

#### UDP 특징

- 기능이 거의 없음

- 연결지향  / 데이터 전달 보증 / 순서 보장 X

- 단순하고 빠름

  -> IP + PORT(프로그램 구분) + 체크섬(자료 검사) 정도 이기 때문에 애플리케이션에서 추가 작업 필요
